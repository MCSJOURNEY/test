{"remainingRequest":"/Users/mcsjourneys/Desktop/startup-frontend-main/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mcsjourneys/Desktop/startup-frontend-main/src/layout/components/Tabbar.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/mcsjourneys/Desktop/startup-frontend-main/src/layout/components/Tabbar.vue","mtime":1655109659000},{"path":"/Users/mcsjourneys/Desktop/startup-frontend-main/node_modules/cache-loader/dist/cjs.js","mtime":1715598879413},{"path":"/Users/mcsjourneys/Desktop/startup-frontend-main/node_modules/babel-loader/lib/index.js","mtime":1715598884187},{"path":"/Users/mcsjourneys/Desktop/startup-frontend-main/node_modules/cache-loader/dist/cjs.js","mtime":1715598879413},{"path":"/Users/mcsjourneys/Desktop/startup-frontend-main/node_modules/vue-loader/lib/index.js","mtime":1715598879453}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgcGFnZUN1cnJlbnQ6ICcnLAogICAgICBwYWdlTGlzdDogW10sCiAgICAgIGV4Y2x1ZGU6IG51bGwsCiAgICAgIGNvbmRpdGlvbjogdHJ1ZQogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgICRyb3V0ZTogewogICAgICBoYW5kbGVyKHRvLCBmb3JtID0gbnVsbCkgewogICAgICAgIC8vIOW9k+i3r+eUseaUueWPmOaXtu+8jOajgOa1i+ivpei3r+eUseaYr+WQpuW3sue7j+WcqOaJk+W8gOeahOmhtemdouS5i+S4re+8jOWmguaenOS4jeWcqO+8jOWwsea3u+WKoOi/m+WOuwogICAgICAgIGlmICh0by5tZXRhKSB7CiAgICAgICAgICB0aGlzLnBhZ2VDdXJyZW50ID0gdG8ucGF0aAogICAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5wYWdlTGlzdC5maW5kSW5kZXgodmFsdWUgPT4gewogICAgICAgICAgICByZXR1cm4gdmFsdWUubmFtZSA9PT0gdG8ucGF0aAogICAgICAgICAgfSkKICAgICAgICAgIGlmIChpbmRleCA8IDApIHsKICAgICAgICAgICAgdGhpcy5wYWdlTGlzdC5wdXNoKHsgbmFtZTogdG8ucGF0aCwgbGFiZWw6IHRvLm1ldGEudGl0bGUsIGljb246IHRvLm1ldGEuaWNvbiB9KQogICAgICAgICAgfQogICAgICAgICAgLy8g57yT5a2Y6aG16Z2iCiAgICAgICAgICBjb25zdCB7IG5hbWUsIG1ldGEgfSA9IHRoaXMuJHJvdXRlCiAgICAgICAgICBpZiAobmFtZSAmJiBtZXRhICE9PSB1bmRlZmluZWQgJiYgbWV0YS5ub0NhY2hlICE9PSB1bmRlZmluZWQgJiYgIW1ldGEubm9DYWNoZSkgewogICAgICAgICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgndGFiYmFyL2FkZENhY2hlZFZpZXcnLCB0aGlzLiRyb3V0ZSkKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sCiAgICAgIGltbWVkaWF0ZTogdHJ1ZQogICAgfQogIH0sCgogIG1ldGhvZHM6IHsKICAgIHJlbW92ZVRhYih0YXJnZXROYW1lKSB7CiAgICAgIGlmICh0YXJnZXROYW1lID09PSAnL2Rhc2hib2FyZCcpIHJldHVybgogICAgICBjb25zdCB0YWJzID0gdGhpcy5wYWdlTGlzdAogICAgICBsZXQgYWN0aXZlTmFtZSA9IHRoaXMucGFnZUN1cnJlbnQKICAgICAgaWYgKGFjdGl2ZU5hbWUgPT09IHRhcmdldE5hbWUpIHsKICAgICAgICB0YWJzLmZvckVhY2goKHRhYiwgaW5kZXgpID0+IHsKICAgICAgICAgIGlmICh0YWIubmFtZSA9PT0gdGFyZ2V0TmFtZSkgewogICAgICAgICAgICBjb25zdCBuZXh0VGFiID0gdGFic1tpbmRleCArIDFdIHx8IHRhYnNbaW5kZXggLSAxXQogICAgICAgICAgICBpZiAobmV4dFRhYikgewogICAgICAgICAgICAgIGFjdGl2ZU5hbWUgPSBuZXh0VGFiLm5hbWUKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0pCiAgICAgIH0KICAgICAgdGhpcy5wYWdlQ3VycmVudCA9IGFjdGl2ZU5hbWUKCiAgICAgIHRoaXMucGFnZUxpc3QgPSB0YWJzLmZpbHRlcih0YWIgPT4gdGFiLm5hbWUgIT09IHRhcmdldE5hbWUpCiAgICAgIC8vIOWOu+mZpOe8k+WtmOmhtemdogogICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgndGFiYmFyL2RlbENhY2hlZFZpZXcnLCB0aGlzLiRyb3V0ZSkKICAgICAgdGhpcy4kcm91dGVyLnB1c2goeyBwYXRoOiBhY3RpdmVOYW1lIH0pCiAgICB9LAogICAgdGFiQ2hhbmdlKHRhYiwgZXZlbnQpIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goeyBwYXRoOiB0YWIubmFtZSB9KQogICAgfSwKICAgIHJlZnJlc2hNb2R1bGUoKSB7CiAgICAgIHRoaXMuZXhjbHVkZSA9IHRoaXMuJHJlZnMudmlldy4kb3B0aW9ucy5uYW1lCiAgICAgIHRoaXMuY29uZGl0aW9uID0gIXRoaXMuY29uZGl0aW9uCiAgICAgIHRoaXMuJG5leHRUaWNrKF8gPT4gewogICAgICAgIHRoaXMuZXhjbHVkZSA9IG51bGwKICAgICAgICB0aGlzLmNvbmRpdGlvbiA9ICF0aGlzLmNvbmRpdGlvbgogICAgICB9KQogICAgfQoKICB9Cn0K"},{"version":3,"sources":["Tabbar.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAmBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"Tabbar.vue","sourceRoot":"src/layout/components","sourcesContent":["<template>\n  <div class=\"tabbar-container\">\n    <el-tabs v-model=\"pageCurrent\" type=\"card\" closable @tab-click=\"tabChange\" @tab-remove=\"removeTab\">\n      <el-tab-pane\n        v-for=\"(item) in pageList\"\n        :key=\"item.name\"\n        :name=\"item.name\"\n        class=\"tabbar-item\"\n      >\n        <span slot=\"label\">\n          <span><i :class=\"item.icon\" />{{ }} {{ item.label }}</span>\n        </span>\n      </el-tab-pane>\n    </el-tabs>\n\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      pageCurrent: '',\n      pageList: [],\n      exclude: null,\n      condition: true\n    }\n  },\n  watch: {\n    $route: {\n      handler(to, form = null) {\n        // 当路由改变时，检测该路由是否已经在打开的页面之中，如果不在，就添加进去\n        if (to.meta) {\n          this.pageCurrent = to.path\n          var index = this.pageList.findIndex(value => {\n            return value.name === to.path\n          })\n          if (index < 0) {\n            this.pageList.push({ name: to.path, label: to.meta.title, icon: to.meta.icon })\n          }\n          // 缓存页面\n          const { name, meta } = this.$route\n          if (name && meta !== undefined && meta.noCache !== undefined && !meta.noCache) {\n            this.$store.dispatch('tabbar/addCachedView', this.$route)\n          }\n        }\n      },\n      immediate: true\n    }\n  },\n\n  methods: {\n    removeTab(targetName) {\n      if (targetName === '/dashboard') return\n      const tabs = this.pageList\n      let activeName = this.pageCurrent\n      if (activeName === targetName) {\n        tabs.forEach((tab, index) => {\n          if (tab.name === targetName) {\n            const nextTab = tabs[index + 1] || tabs[index - 1]\n            if (nextTab) {\n              activeName = nextTab.name\n            }\n          }\n        })\n      }\n      this.pageCurrent = activeName\n\n      this.pageList = tabs.filter(tab => tab.name !== targetName)\n      // 去除缓存页面\n      this.$store.dispatch('tabbar/delCachedView', this.$route)\n      this.$router.push({ path: activeName })\n    },\n    tabChange(tab, event) {\n      this.$router.push({ path: tab.name })\n    },\n    refreshModule() {\n      this.exclude = this.$refs.view.$options.name\n      this.condition = !this.condition\n      this.$nextTick(_ => {\n        this.exclude = null\n        this.condition = !this.condition\n      })\n    }\n\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.tabbar-container {\n  height: 34px;\n  width: 100%;\n  cursor: pointer;\n}\n\n</style>\n"]}]}
{"remainingRequest":"/Users/mcsjourneys/Desktop/startup-frontend-main/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mcsjourneys/Desktop/startup-frontend-main/src/views/bbs/index copy.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/mcsjourneys/Desktop/startup-frontend-main/src/views/bbs/index copy.vue","mtime":1655109659000},{"path":"/Users/mcsjourneys/Desktop/startup-frontend-main/node_modules/cache-loader/dist/cjs.js","mtime":1715598879413},{"path":"/Users/mcsjourneys/Desktop/startup-frontend-main/node_modules/babel-loader/lib/index.js","mtime":1715598884187},{"path":"/Users/mcsjourneys/Desktop/startup-frontend-main/node_modules/cache-loader/dist/cjs.js","mtime":1715598879413},{"path":"/Users/mcsjourneys/Desktop/startup-frontend-main/node_modules/vue-loader/lib/index.js","mtime":1715598879453}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IHBhcnNlVGltZSB9IGZyb20gJ0AvdXRpbHMvaW5kZXgnCmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbmlja05hbWU6ICcnLAogICAgICBtZXNzYWdlOiAnJywKICAgICAgcGFnZXNpemU6IDMsCiAgICAgIGN1cnJlbnRQYWdlOiAxLAogICAgICBwYWdlbWVzc2FnZXM6IFtdLAogICAgICBhbGxtZXNzYWdlczogW10KICAgIH0KICB9LAogIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmRvUXVlcnkoKQogIH0sCiAgbWV0aG9kczogewogICAgLy8g5qih5ouf5ZCO5Y+w5p+l6K+iCiAgICBkb1F1ZXJ5KCkgewogICAgICBjb25zdCBzdGFydCA9ICh0aGlzLmN1cnJlbnRQYWdlIC0gMSkgKiB0aGlzLnBhZ2VzaXplCiAgICAgIGNvbnN0IGVuZCA9IHN0YXJ0ICsgdGhpcy5wYWdlc2l6ZQogICAgICBmb3IgKHZhciBpID0gc3RhcnQ7IGkgPCBlbmQ7IGkrKykgewogICAgICAgIGlmIChpIDwgdGhpcy5hbGxtZXNzYWdlcy5sZW5ndGgpIHsKICAgICAgICAgIHRoaXMucGFnZW1lc3NhZ2VzLnB1c2godGhpcy5hbGxtZXNzYWdlc1tpXSkKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICAvLyDnv7vpobUKICAgIGhhbmRsZUN1cnJlbnRDaGFuZ2UodmFsKSB7CiAgICAgIHRoaXMuY3VycmVudFBhZ2UgPSB2YWwKICAgICAgdGhpcy5wYWdlbWVzc2FnZXMgPSBbXQogICAgICB0aGlzLmRvUXVlcnkoKQogICAgfSwKICAgIC8vIOaPkOS6pOeVmeiogAogICAgc3VibWl0TWVzc2FnZSgpIHsKICAgICAgaWYgKHRoaXMubmlja05hbWUgPT09ICcnIHx8IHRoaXMubmlja05hbWUucmVwbGFjZSgvKF5ccyopfChccyokKS9nLCAnJykgPT09ICcnKSB7CiAgICAgICAgdGhpcy4kbWVzc2FnZSgn6K+36L6T5YWl5pi156ewJykKICAgICAgICByZXR1cm4KICAgICAgfQogICAgICBpZiAodGhpcy5tZXNzYWdlID09PSAnJyB8fCB0aGlzLm1lc3NhZ2UucmVwbGFjZSgvKF5ccyopfChccyokKS9nLCAnJykgPT09ICcnKSB7CiAgICAgICAgdGhpcy4kbWVzc2FnZSgn55WZ6KiA5LiN6IO95Li656m6JykKICAgICAgICByZXR1cm4KICAgICAgfQogICAgICAvLyAg5qih5ouf5L+d5a2Y5pWw5o2uCiAgICAgIHZhciB0aW1lc3RhbXAgPSBEYXRlLnBhcnNlKG5ldyBEYXRlKCkpCiAgICAgIHRoaXMuYWxsbWVzc2FnZXMucHVzaCh7IGNyZWF0ZVRpbWU6IHBhcnNlVGltZSh0aW1lc3RhbXApLCBjcmVhdGVEYXRlOiBwYXJzZVRpbWUodGltZXN0YW1wLCAne3l9LXttfS17ZH0nKSwgbmlja05hbWU6IHRoaXMubmlja05hbWUsIGNvbnRlbnQ6IHRoaXMubWVzc2FnZSB9KQogICAgICB0aGlzLm5pY2tOYW1lID0gJycKICAgICAgdGhpcy5tZXNzYWdlID0gJycKICAgICAgLy8g57+76aG15Yiw5pyA5ZCO5LiA6aG1CiAgICAgIHRoaXMuY3VycmVudFBhZ2UgPSBNYXRoLmNlaWwodGhpcy5hbGxtZXNzYWdlcy5sZW5ndGggLyB0aGlzLnBhZ2VzaXplLCAwKQogICAgICB0aGlzLmhhbmRsZUN1cnJlbnRDaGFuZ2UodGhpcy5jdXJyZW50UGFnZSkKICAgIH0KICB9Cgp9Cg=="},{"version":3,"sources":["index copy.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","file":"index copy.vue","sourceRoot":"src/views/bbs","sourcesContent":["<template>\n  <div>\n    <el-card class=\"el-card-d\" shadow=\"always\">\n      <el-timeline infinite-scroll-disabled=\"disabled\">\n        <div v-if=\"pagemessages.length > 0\">\n          <el-timeline-item\n            v-for=\"(item, index) in pagemessages\"\n            :key=\"index\"\n            :timestamp=\"item.createDate\"\n            placement=\"top\"\n          >\n            <el-card class=\"el-card-m\">\n              <span class=\"el-card-m-content\">{{ item.content }}</span>\n              <div />\n              <span class=\"el-card-m-nick-name\">{{ item.nickName }} 提交于 {{ item.createTime }}</span>\n            </el-card>\n          </el-timeline-item>\n        </div>\n        <div v-else>\n          <el-timeline-item placement=\"top\">\n            <el-card class=\"el-card-m\">\n              <p class=\"el-card-m-nick-name\">  没有任何留言</p>\n            </el-card>\n          </el-timeline-item>\n        </div>\n      </el-timeline>\n      <el-pagination\n        background\n        :current-page=\"currentPage\"\n        :page-size=\"pagesize\"\n        layout=\"prev, pager, next\"\n        :total=\"allmessages.length\"\n        :hide-on-single-page=\"true\"\n        @current-change=\"handleCurrentChange\"\n      />\n\n    </el-card>\n    <div class=\"el-card-messages\">\n      <el-input v-model=\"nickName\" size=\"mini\" class=\"message-nick-name\">\n        <template slot=\"prepend\">昵称：</template>\n      </el-input>\n      <el-input\n        slot=\"prepend\"\n        v-model=\"message\"\n        type=\"textarea\"\n        :rows=\"2\"\n        class=\"message-text\"\n        placeholder=\"输入留言\"\n        maxlength=\"200\"\n      />\n\n      <el-button\n        type=\"info\"\n        round\n        class=\"submit-message\"\n        size=\"mini\"\n        @click=\"submitMessage\"\n      >留言</el-button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { parseTime } from '@/utils/index'\nexport default {\n  data() {\n    return {\n      nickName: '',\n      message: '',\n      pagesize: 3,\n      currentPage: 1,\n      pagemessages: [],\n      allmessages: []\n    }\n  },\n  created() {\n    this.doQuery()\n  },\n  methods: {\n    // 模拟后台查询\n    doQuery() {\n      const start = (this.currentPage - 1) * this.pagesize\n      const end = start + this.pagesize\n      for (var i = start; i < end; i++) {\n        if (i < this.allmessages.length) {\n          this.pagemessages.push(this.allmessages[i])\n        }\n      }\n    },\n    // 翻页\n    handleCurrentChange(val) {\n      this.currentPage = val\n      this.pagemessages = []\n      this.doQuery()\n    },\n    // 提交留言\n    submitMessage() {\n      if (this.nickName === '' || this.nickName.replace(/(^\\s*)|(\\s*$)/g, '') === '') {\n        this.$message('请输入昵称')\n        return\n      }\n      if (this.message === '' || this.message.replace(/(^\\s*)|(\\s*$)/g, '') === '') {\n        this.$message('留言不能为空')\n        return\n      }\n      //  模拟保存数据\n      var timestamp = Date.parse(new Date())\n      this.allmessages.push({ createTime: parseTime(timestamp), createDate: parseTime(timestamp, '{y}-{m}-{d}'), nickName: this.nickName, content: this.message })\n      this.nickName = ''\n      this.message = ''\n      // 翻页到最后一页\n      this.currentPage = Math.ceil(this.allmessages.length / this.pagesize, 0)\n      this.handleCurrentChange(this.currentPage)\n    }\n  }\n\n}\n</script>\n\n<style scoped>\n.el-card-d {\n  float: left;\n  margin-top: 20px;\n  margin-left: 10%;\n  width: 80%;\n  height: 500px;\n  background: rgb(252, 250, 250);\n}\n\n.el-card-m{\n    height: 100px;\n}\n\n.el-card-m-content{\n    display: block;\n    font-weight: bold;\n}\n\n.el-card-m-nick-name{\n    display: block;\n    font-size: x-small;\n    margin-top: 15px;\n    color: gray;\n}\n\n.el-card-messages {\n  float: left;\n  margin-top: 20px;\n  margin-left: 10%;\n  width: 70%;\n}\n\n.message-nick-name {\n  width: 50%;\n}\n.message-text {\n  margin-top: 10px;\n  display: block;\n  width: 50%;\n}\n\n.submit-message {\n  margin-top: 10px;\n  width: 80px;\n  background: rgb(235, 245, 247);\n  color: cadetblue;\n  text-align: center;\n  letter-spacing: 20px;\n}\n</style>\n"]}]}
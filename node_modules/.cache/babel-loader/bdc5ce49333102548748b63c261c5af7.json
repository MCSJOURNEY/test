{"remainingRequest":"/Users/mcsjourneys/Desktop/startup-frontend-main/node_modules/babel-loader/lib/index.js!/Users/mcsjourneys/Desktop/startup-frontend-main/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/mcsjourneys/Desktop/startup-frontend-main/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mcsjourneys/Desktop/startup-frontend-main/src/layout/components/Tabbar.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/mcsjourneys/Desktop/startup-frontend-main/src/layout/components/Tabbar.vue","mtime":1655109659000},{"path":"/Users/mcsjourneys/Desktop/startup-frontend-main/babel.config.js","mtime":1655109659000},{"path":"/Users/mcsjourneys/Desktop/startup-frontend-main/node_modules/cache-loader/dist/cjs.js","mtime":1715598879413},{"path":"/Users/mcsjourneys/Desktop/startup-frontend-main/node_modules/babel-loader/lib/index.js","mtime":1715598884187},{"path":"/Users/mcsjourneys/Desktop/startup-frontend-main/node_modules/cache-loader/dist/cjs.js","mtime":1715598879413},{"path":"/Users/mcsjourneys/Desktop/startup-frontend-main/node_modules/vue-loader/lib/index.js","mtime":1715598879453}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC1pbmRleC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCgpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHBhZ2VDdXJyZW50OiAnJywKICAgICAgcGFnZUxpc3Q6IFtdLAogICAgICBleGNsdWRlOiBudWxsLAogICAgICBjb25kaXRpb246IHRydWUKICAgIH07CiAgfSwKICB3YXRjaDogewogICAgJHJvdXRlOiB7CiAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uIGhhbmRsZXIodG8pIHsKICAgICAgICB2YXIgZm9ybSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogbnVsbDsKICAgICAgICAvLyDlvZPot6/nlLHmlLnlj5jml7bvvIzmo4DmtYvor6Xot6/nlLHmmK/lkKblt7Lnu4/lnKjmiZPlvIDnmoTpobXpnaLkuYvkuK3vvIzlpoLmnpzkuI3lnKjvvIzlsLHmt7vliqDov5vljrsKICAgICAgICBpZiAodG8ubWV0YSkgewogICAgICAgICAgdGhpcy5wYWdlQ3VycmVudCA9IHRvLnBhdGg7CiAgICAgICAgICB2YXIgaW5kZXggPSB0aGlzLnBhZ2VMaXN0LmZpbmRJbmRleChmdW5jdGlvbiAodmFsdWUpIHsKICAgICAgICAgICAgcmV0dXJuIHZhbHVlLm5hbWUgPT09IHRvLnBhdGg7CiAgICAgICAgICB9KTsKICAgICAgICAgIGlmIChpbmRleCA8IDApIHsKICAgICAgICAgICAgdGhpcy5wYWdlTGlzdC5wdXNoKHsKICAgICAgICAgICAgICBuYW1lOiB0by5wYXRoLAogICAgICAgICAgICAgIGxhYmVsOiB0by5tZXRhLnRpdGxlLAogICAgICAgICAgICAgIGljb246IHRvLm1ldGEuaWNvbgogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICAgIC8vIOe8k+WtmOmhtemdogogICAgICAgICAgdmFyIF90aGlzJCRyb3V0ZSA9IHRoaXMuJHJvdXRlLAogICAgICAgICAgICBuYW1lID0gX3RoaXMkJHJvdXRlLm5hbWUsCiAgICAgICAgICAgIG1ldGEgPSBfdGhpcyQkcm91dGUubWV0YTsKICAgICAgICAgIGlmIChuYW1lICYmIG1ldGEgIT09IHVuZGVmaW5lZCAmJiBtZXRhLm5vQ2FjaGUgIT09IHVuZGVmaW5lZCAmJiAhbWV0YS5ub0NhY2hlKSB7CiAgICAgICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCd0YWJiYXIvYWRkQ2FjaGVkVmlldycsIHRoaXMuJHJvdXRlKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sCiAgICAgIGltbWVkaWF0ZTogdHJ1ZQogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgcmVtb3ZlVGFiOiBmdW5jdGlvbiByZW1vdmVUYWIodGFyZ2V0TmFtZSkgewogICAgICBpZiAodGFyZ2V0TmFtZSA9PT0gJy9kYXNoYm9hcmQnKSByZXR1cm47CiAgICAgIHZhciB0YWJzID0gdGhpcy5wYWdlTGlzdDsKICAgICAgdmFyIGFjdGl2ZU5hbWUgPSB0aGlzLnBhZ2VDdXJyZW50OwogICAgICBpZiAoYWN0aXZlTmFtZSA9PT0gdGFyZ2V0TmFtZSkgewogICAgICAgIHRhYnMuZm9yRWFjaChmdW5jdGlvbiAodGFiLCBpbmRleCkgewogICAgICAgICAgaWYgKHRhYi5uYW1lID09PSB0YXJnZXROYW1lKSB7CiAgICAgICAgICAgIHZhciBuZXh0VGFiID0gdGFic1tpbmRleCArIDFdIHx8IHRhYnNbaW5kZXggLSAxXTsKICAgICAgICAgICAgaWYgKG5leHRUYWIpIHsKICAgICAgICAgICAgICBhY3RpdmVOYW1lID0gbmV4dFRhYi5uYW1lOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0KICAgICAgdGhpcy5wYWdlQ3VycmVudCA9IGFjdGl2ZU5hbWU7CiAgICAgIHRoaXMucGFnZUxpc3QgPSB0YWJzLmZpbHRlcihmdW5jdGlvbiAodGFiKSB7CiAgICAgICAgcmV0dXJuIHRhYi5uYW1lICE9PSB0YXJnZXROYW1lOwogICAgICB9KTsKICAgICAgLy8g5Y676Zmk57yT5a2Y6aG16Z2iCiAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCd0YWJiYXIvZGVsQ2FjaGVkVmlldycsIHRoaXMuJHJvdXRlKTsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgIHBhdGg6IGFjdGl2ZU5hbWUKICAgICAgfSk7CiAgICB9LAogICAgdGFiQ2hhbmdlOiBmdW5jdGlvbiB0YWJDaGFuZ2UodGFiLCBldmVudCkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgcGF0aDogdGFiLm5hbWUKICAgICAgfSk7CiAgICB9LAogICAgcmVmcmVzaE1vZHVsZTogZnVuY3Rpb24gcmVmcmVzaE1vZHVsZSgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKICAgICAgdGhpcy5leGNsdWRlID0gdGhpcy4kcmVmcy52aWV3LiRvcHRpb25zLm5hbWU7CiAgICAgIHRoaXMuY29uZGl0aW9uID0gIXRoaXMuY29uZGl0aW9uOwogICAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoXykgewogICAgICAgIF90aGlzLmV4Y2x1ZGUgPSBudWxsOwogICAgICAgIF90aGlzLmNvbmRpdGlvbiA9ICFfdGhpcy5jb25kaXRpb247CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"names":["data","pageCurrent","pageList","exclude","condition","watch","$route","handler","to","form","arguments","length","undefined","meta","path","index","findIndex","value","name","push","label","title","icon","_this$$route","noCache","$store","dispatch","immediate","methods","removeTab","targetName","tabs","activeName","forEach","tab","nextTab","filter","$router","tabChange","event","refreshModule","_this","$refs","view","$options","$nextTick","_"],"sources":["src/layout/components/Tabbar.vue"],"sourcesContent":["<template>\n  <div class=\"tabbar-container\">\n    <el-tabs v-model=\"pageCurrent\" type=\"card\" closable @tab-click=\"tabChange\" @tab-remove=\"removeTab\">\n      <el-tab-pane\n        v-for=\"(item) in pageList\"\n        :key=\"item.name\"\n        :name=\"item.name\"\n        class=\"tabbar-item\"\n      >\n        <span slot=\"label\">\n          <span><i :class=\"item.icon\" />{{ }} {{ item.label }}</span>\n        </span>\n      </el-tab-pane>\n    </el-tabs>\n\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      pageCurrent: '',\n      pageList: [],\n      exclude: null,\n      condition: true\n    }\n  },\n  watch: {\n    $route: {\n      handler(to, form = null) {\n        // 当路由改变时，检测该路由是否已经在打开的页面之中，如果不在，就添加进去\n        if (to.meta) {\n          this.pageCurrent = to.path\n          var index = this.pageList.findIndex(value => {\n            return value.name === to.path\n          })\n          if (index < 0) {\n            this.pageList.push({ name: to.path, label: to.meta.title, icon: to.meta.icon })\n          }\n          // 缓存页面\n          const { name, meta } = this.$route\n          if (name && meta !== undefined && meta.noCache !== undefined && !meta.noCache) {\n            this.$store.dispatch('tabbar/addCachedView', this.$route)\n          }\n        }\n      },\n      immediate: true\n    }\n  },\n\n  methods: {\n    removeTab(targetName) {\n      if (targetName === '/dashboard') return\n      const tabs = this.pageList\n      let activeName = this.pageCurrent\n      if (activeName === targetName) {\n        tabs.forEach((tab, index) => {\n          if (tab.name === targetName) {\n            const nextTab = tabs[index + 1] || tabs[index - 1]\n            if (nextTab) {\n              activeName = nextTab.name\n            }\n          }\n        })\n      }\n      this.pageCurrent = activeName\n\n      this.pageList = tabs.filter(tab => tab.name !== targetName)\n      // 去除缓存页面\n      this.$store.dispatch('tabbar/delCachedView', this.$route)\n      this.$router.push({ path: activeName })\n    },\n    tabChange(tab, event) {\n      this.$router.push({ path: tab.name })\n    },\n    refreshModule() {\n      this.exclude = this.$refs.view.$options.name\n      this.condition = !this.condition\n      this.$nextTick(_ => {\n        this.exclude = null\n        this.condition = !this.condition\n      })\n    }\n\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.tabbar-container {\n  height: 34px;\n  width: 100%;\n  cursor: pointer;\n}\n\n</style>\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAmBA;EACAA,IAAA,WAAAA,KAAA;IACA;MACAC,WAAA;MACAC,QAAA;MACAC,OAAA;MACAC,SAAA;IACA;EACA;EACAC,KAAA;IACAC,MAAA;MACAC,OAAA,WAAAA,QAAAC,EAAA;QAAA,IAAAC,IAAA,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA;QACA;QACA,IAAAF,EAAA,CAAAK,IAAA;UACA,KAAAZ,WAAA,GAAAO,EAAA,CAAAM,IAAA;UACA,IAAAC,KAAA,QAAAb,QAAA,CAAAc,SAAA,WAAAC,KAAA;YACA,OAAAA,KAAA,CAAAC,IAAA,KAAAV,EAAA,CAAAM,IAAA;UACA;UACA,IAAAC,KAAA;YACA,KAAAb,QAAA,CAAAiB,IAAA;cAAAD,IAAA,EAAAV,EAAA,CAAAM,IAAA;cAAAM,KAAA,EAAAZ,EAAA,CAAAK,IAAA,CAAAQ,KAAA;cAAAC,IAAA,EAAAd,EAAA,CAAAK,IAAA,CAAAS;YAAA;UACA;UACA;UACA,IAAAC,YAAA,QAAAjB,MAAA;YAAAY,IAAA,GAAAK,YAAA,CAAAL,IAAA;YAAAL,IAAA,GAAAU,YAAA,CAAAV,IAAA;UACA,IAAAK,IAAA,IAAAL,IAAA,KAAAD,SAAA,IAAAC,IAAA,CAAAW,OAAA,KAAAZ,SAAA,KAAAC,IAAA,CAAAW,OAAA;YACA,KAAAC,MAAA,CAAAC,QAAA,8BAAApB,MAAA;UACA;QACA;MACA;MACAqB,SAAA;IACA;EACA;EAEAC,OAAA;IACAC,SAAA,WAAAA,UAAAC,UAAA;MACA,IAAAA,UAAA;MACA,IAAAC,IAAA,QAAA7B,QAAA;MACA,IAAA8B,UAAA,QAAA/B,WAAA;MACA,IAAA+B,UAAA,KAAAF,UAAA;QACAC,IAAA,CAAAE,OAAA,WAAAC,GAAA,EAAAnB,KAAA;UACA,IAAAmB,GAAA,CAAAhB,IAAA,KAAAY,UAAA;YACA,IAAAK,OAAA,GAAAJ,IAAA,CAAAhB,KAAA,SAAAgB,IAAA,CAAAhB,KAAA;YACA,IAAAoB,OAAA;cACAH,UAAA,GAAAG,OAAA,CAAAjB,IAAA;YACA;UACA;QACA;MACA;MACA,KAAAjB,WAAA,GAAA+B,UAAA;MAEA,KAAA9B,QAAA,GAAA6B,IAAA,CAAAK,MAAA,WAAAF,GAAA;QAAA,OAAAA,GAAA,CAAAhB,IAAA,KAAAY,UAAA;MAAA;MACA;MACA,KAAAL,MAAA,CAAAC,QAAA,8BAAApB,MAAA;MACA,KAAA+B,OAAA,CAAAlB,IAAA;QAAAL,IAAA,EAAAkB;MAAA;IACA;IACAM,SAAA,WAAAA,UAAAJ,GAAA,EAAAK,KAAA;MACA,KAAAF,OAAA,CAAAlB,IAAA;QAAAL,IAAA,EAAAoB,GAAA,CAAAhB;MAAA;IACA;IACAsB,aAAA,WAAAA,cAAA;MAAA,IAAAC,KAAA;MACA,KAAAtC,OAAA,QAAAuC,KAAA,CAAAC,IAAA,CAAAC,QAAA,CAAA1B,IAAA;MACA,KAAAd,SAAA,SAAAA,SAAA;MACA,KAAAyC,SAAA,WAAAC,CAAA;QACAL,KAAA,CAAAtC,OAAA;QACAsC,KAAA,CAAArC,SAAA,IAAAqC,KAAA,CAAArC,SAAA;MACA;IACA;EAEA;AACA","ignoreList":[]}]}
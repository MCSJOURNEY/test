{"remainingRequest":"/Users/mcsjourneys/Desktop/startup-frontend-main/node_modules/babel-loader/lib/index.js!/Users/mcsjourneys/Desktop/startup-frontend-main/node_modules/eslint-loader/index.js??ref--13-0!/Users/mcsjourneys/Desktop/startup-frontend-main/src/utils/request.js","dependencies":[{"path":"/Users/mcsjourneys/Desktop/startup-frontend-main/src/utils/request.js","mtime":1655109659000},{"path":"/Users/mcsjourneys/Desktop/startup-frontend-main/babel.config.js","mtime":1655109659000},{"path":"/Users/mcsjourneys/Desktop/startup-frontend-main/node_modules/cache-loader/dist/cjs.js","mtime":1715598879413},{"path":"/Users/mcsjourneys/Desktop/startup-frontend-main/node_modules/babel-loader/lib/index.js","mtime":1715598884187},{"path":"/Users/mcsjourneys/Desktop/startup-frontend-main/node_modules/eslint-loader/index.js","mtime":1715598884748}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50by1zdHJpbmcuanMiOwppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOwppbXBvcnQgcm91dGVyIGZyb20gJ0Avcm91dGVyL2luZGV4JzsKaW1wb3J0IHsgTm90aWZpY2F0aW9uIH0gZnJvbSAnZWxlbWVudC11aSc7CmltcG9ydCBzdG9yZSBmcm9tICcuLi9zdG9yZSc7CmltcG9ydCB7IGdldFRva2VuIH0gZnJvbSAnQC91dGlscy9hdXRoJzsKaW1wb3J0IENvbmZpZyBmcm9tICdAL3NldHRpbmdzJzsKaW1wb3J0IENvb2tpZXMgZnJvbSAnanMtY29va2llJzsKCi8vIOWIm+W7umF4aW9z5a6e5L6LCnZhciBzZXJ2aWNlID0gYXhpb3MuY3JlYXRlKHsKICBiYXNlVVJMOiBwcm9jZXNzLmVudi5WVUVfQVBQX0JBU0VfQVBJLAogIC8vIGFwaSDnmoQgYmFzZV91cmwKICB0aW1lb3V0OiBDb25maWcudGltZW91dCAvLyDor7fmsYLotoXml7bml7bpl7QKfSk7CgovLyByZXF1ZXN05oum5oiq5ZmoCnNlcnZpY2UuaW50ZXJjZXB0b3JzLnJlcXVlc3QudXNlKGZ1bmN0aW9uIChjb25maWcpIHsKICBpZiAoZ2V0VG9rZW4oKSkgewogICAgY29uZmlnLmhlYWRlcnNbJ0F1dGhvcml6YXRpb24nXSA9IGdldFRva2VuKCk7IC8vIOiuqeavj+S4quivt+axguaQuuW4puiHquWumuS5iXRva2VuIOivt+agueaNruWunumZheaDheWGteiHquihjOS/ruaUuQogIH0KICBjb25maWcuaGVhZGVyc1snQ29udGVudC1UeXBlJ10gPSAnYXBwbGljYXRpb24vanNvbic7CiAgcmV0dXJuIGNvbmZpZzsKfSwgZnVuY3Rpb24gKGVycm9yKSB7CiAgLy8gRG8gc29tZXRoaW5nIHdpdGggcmVxdWVzdCBlcnJvcgogIGNvbnNvbGUubG9nKGVycm9yKTsgLy8gZm9yIGRlYnVnCiAgUHJvbWlzZS5yZWplY3QoZXJyb3IpOwp9KTsKCi8vIHJlc3BvbnNlIOaLpuaIquWZqApzZXJ2aWNlLmludGVyY2VwdG9ycy5yZXNwb25zZS51c2UoZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgdmFyIGNvZGUgPSByZXNwb25zZS5zdGF0dXM7CiAgaWYgKGNvZGUgPCAyMDAgfHwgY29kZSA+IDMwMCkgewogICAgTm90aWZpY2F0aW9uLmVycm9yKHsKICAgICAgdGl0bGU6IHJlc3BvbnNlLm1lc3NhZ2UKICAgIH0pOwogICAgcmV0dXJuIFByb21pc2UucmVqZWN0KCdlcnJvcicpOwogIH0gZWxzZSB7CiAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTsKICB9Cn0sIGZ1bmN0aW9uIChlcnJvcikgewogIHZhciBjb2RlID0gMDsKICB0cnkgewogICAgY29kZSA9IGVycm9yLnJlc3BvbnNlLmRhdGEuc3RhdHVzOwogIH0gY2F0Y2ggKGUpIHsKICAgIGlmIChlcnJvci50b1N0cmluZygpLmluZGV4T2YoJ0Vycm9yOiB0aW1lb3V0JykgIT09IC0xKSB7CiAgICAgIE5vdGlmaWNhdGlvbi5lcnJvcih7CiAgICAgICAgdGl0bGU6ICfnvZHnu5zor7fmsYLotoXml7YnLAogICAgICAgIGR1cmF0aW9uOiA1MDAwCiAgICAgIH0pOwogICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpOwogICAgfQogIH0KICBpZiAoY29kZSkgewogICAgaWYgKGNvZGUgPT09IDQwMSkgewogICAgICBzdG9yZS5kaXNwYXRjaCgnbG9nb3V0JykudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgLy8g55So5oi355m75b2V55WM6Z2i5o+Q56S6CiAgICAgICAgQ29va2llcy5zZXQoJ3BvaW50JywgNDAxKTsKICAgICAgICBsb2NhdGlvbi5yZWxvYWQoKTsKICAgICAgfSk7CiAgICB9IGVsc2UgaWYgKGNvZGUgPT09IDQwMykgewogICAgICByb3V0ZXIucHVzaCh7CiAgICAgICAgcGF0aDogJy80MDEnCiAgICAgIH0pOwogICAgfSBlbHNlIHsKICAgICAgdmFyIGVycm9yTXNnID0gZXJyb3IucmVzcG9uc2UuZGF0YS5tZXNzYWdlOwogICAgICBpZiAoZXJyb3JNc2cgIT09IHVuZGVmaW5lZCkgewogICAgICAgIE5vdGlmaWNhdGlvbi5lcnJvcih7CiAgICAgICAgICB0aXRsZTogZXJyb3JNc2csCiAgICAgICAgICBkdXJhdGlvbjogNTAwMAogICAgICAgIH0pOwogICAgICB9CiAgICB9CiAgfSBlbHNlIHsKICAgIE5vdGlmaWNhdGlvbi5lcnJvcih7CiAgICAgIHRpdGxlOiAn5o6l5Y+j6K+35rGC5aSx6LSlJywKICAgICAgZHVyYXRpb246IDUwMDAKICAgIH0pOwogIH0KICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpOwp9KTsKZXhwb3J0IGRlZmF1bHQgc2VydmljZTs="},{"version":3,"names":["axios","router","Notification","store","getToken","Config","Cookies","service","create","baseURL","process","env","VUE_APP_BASE_API","timeout","interceptors","request","use","config","headers","error","console","log","Promise","reject","response","code","status","title","message","data","e","toString","indexOf","duration","dispatch","then","set","location","reload","push","path","errorMsg","undefined"],"sources":["/Users/mcsjourneys/Desktop/startup-frontend-main/src/utils/request.js"],"sourcesContent":["import axios from 'axios'\nimport router from '@/router/index'\nimport { Notification } from 'element-ui'\nimport store from '../store'\nimport { getToken } from '@/utils/auth'\nimport Config from '@/settings'\nimport Cookies from 'js-cookie'\n\n// 创建axios实例\nconst service = axios.create({\n  baseURL: process.env.VUE_APP_BASE_API, // api 的 base_url\n  timeout: Config.timeout // 请求超时时间\n})\n\n// request拦截器\nservice.interceptors.request.use(\n  config => {\n    if (getToken()) {\n      config.headers['Authorization'] = getToken() // 让每个请求携带自定义token 请根据实际情况自行修改\n    }\n    config.headers['Content-Type'] = 'application/json'\n    return config\n  },\n  error => {\n    // Do something with request error\n    console.log(error) // for debug\n    Promise.reject(error)\n  }\n)\n\n// response 拦截器\nservice.interceptors.response.use(\n  response => {\n    const code = response.status\n    if (code < 200 || code > 300) {\n      Notification.error({\n        title: response.message\n      })\n      return Promise.reject('error')\n    } else {\n      return response.data\n    }\n  },\n  error => {\n    let code = 0\n    try {\n      code = error.response.data.status\n    } catch (e) {\n      if (error.toString().indexOf('Error: timeout') !== -1) {\n        Notification.error({\n          title: '网络请求超时',\n          duration: 5000\n        })\n        return Promise.reject(error)\n      }\n    }\n    if (code) {\n      if (code === 401) {\n        store.dispatch('logout').then(() => {\n          // 用户登录界面提示\n          Cookies.set('point', 401)\n          location.reload()\n        })\n      } else if (code === 403) {\n        router.push({ path: '/401' })\n      } else {\n        const errorMsg = error.response.data.message\n        if (errorMsg !== undefined) {\n          Notification.error({\n            title: errorMsg,\n            duration: 5000\n          })\n        }\n      }\n    } else {\n      Notification.error({\n        title: '接口请求失败',\n        duration: 5000\n      })\n    }\n    return Promise.reject(error)\n  }\n)\nexport default service\n"],"mappings":"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","ignoreList":[]}]}
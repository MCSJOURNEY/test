{"remainingRequest":"/Users/mcsjourneys/Desktop/startup-frontend-main/node_modules/babel-loader/lib/index.js!/Users/mcsjourneys/Desktop/startup-frontend-main/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/mcsjourneys/Desktop/startup-frontend-main/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mcsjourneys/Desktop/startup-frontend-main/src/views/bbs/index.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/mcsjourneys/Desktop/startup-frontend-main/src/views/bbs/index.vue","mtime":1655109659000},{"path":"/Users/mcsjourneys/Desktop/startup-frontend-main/babel.config.js","mtime":1655109659000},{"path":"/Users/mcsjourneys/Desktop/startup-frontend-main/node_modules/cache-loader/dist/cjs.js","mtime":1715598879413},{"path":"/Users/mcsjourneys/Desktop/startup-frontend-main/node_modules/babel-loader/lib/index.js","mtime":1715598884187},{"path":"/Users/mcsjourneys/Desktop/startup-frontend-main/node_modules/cache-loader/dist/cjs.js","mtime":1715598879413},{"path":"/Users/mcsjourneys/Desktop/startup-frontend-main/node_modules/vue-loader/lib/index.js","mtime":1715598879453}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZS5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCgppbXBvcnQgeyBwYXJzZVRpbWUgfSBmcm9tICdAL3V0aWxzL2luZGV4JzsKaW1wb3J0IHsgY3JlYXRlQmJzLCBnZXRCYnNQYWdlTGlzdCB9IGZyb20gJ0AvYXBpL2Jicyc7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbmlja05hbWU6ICcnLAogICAgICBtZXNzYWdlOiAnJywKICAgICAgcGFnZXNpemU6IDMsCiAgICAgIGN1cnJlbnRQYWdlOiAxLAogICAgICB0b3RhbDogMCwKICAgICAgcGFnZW1lc3NhZ2VzOiBbXQogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmRvUXVlcnkoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHBhcnNlVGltZTogcGFyc2VUaW1lLAogICAgLy8g5ZCO5Y+w5p+l6K+iCiAgICBkb1F1ZXJ5OiBmdW5jdGlvbiBkb1F1ZXJ5KCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICB0aGlzLnBhZ2VtZXNzYWdlcyA9IFtdOwogICAgICB2YXIgcGFyYW0gPSB7CiAgICAgICAgdXNlck5hbWU6ICcnCiAgICAgIH07CiAgICAgIHBhcmFtLnBhZ2VTaXplID0gdGhpcy5wYWdlc2l6ZTsKICAgICAgcGFyYW0uY3VycmVudFBhZ2UgPSB0aGlzLmN1cnJlbnRQYWdlOwogICAgICBnZXRCYnNQYWdlTGlzdChwYXJhbSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgaWYgKHJlcykgewogICAgICAgICAgX3RoaXMudG90YWwgPSByZXMudG90YWw7CiAgICAgICAgICBfdGhpcy5jdXJyZW50UGFnZSA9IHJlcy5jdXJyZW50UGFnZTsKICAgICAgICAgIF90aGlzLnBhZ2VtZXNzYWdlcyA9IHJlcy5iYnNMaXN0OwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgLy8g57+76aG1CiAgICBoYW5kbGVDdXJyZW50Q2hhbmdlOiBmdW5jdGlvbiBoYW5kbGVDdXJyZW50Q2hhbmdlKHZhbCkgewogICAgICB0aGlzLmN1cnJlbnRQYWdlID0gdmFsOwogICAgICB0aGlzLnBhZ2VtZXNzYWdlcyA9IFtdOwogICAgICB0aGlzLmRvUXVlcnkoKTsKICAgIH0sCiAgICAvLyDmj5DkuqTnlZnoqIAKICAgIHN1Ym1pdE1lc3NhZ2U6IGZ1bmN0aW9uIHN1Ym1pdE1lc3NhZ2UoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwogICAgICBpZiAodGhpcy5uaWNrTmFtZSA9PT0gJycgfHwgdGhpcy5uaWNrTmFtZS5yZXBsYWNlKC8oXlxzKil8KFxzKiQpL2csICcnKSA9PT0gJycpIHsKICAgICAgICB0aGlzLiRtZXNzYWdlKCfor7fovpPlhaXmmLXnp7AnKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgaWYgKHRoaXMubWVzc2FnZSA9PT0gJycgfHwgdGhpcy5tZXNzYWdlLnJlcGxhY2UoLyheXHMqKXwoXHMqJCkvZywgJycpID09PSAnJykgewogICAgICAgIHRoaXMuJG1lc3NhZ2UoJ+eVmeiogOS4jeiDveS4uuepuicpOwogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICAvLyAg5L+d5a2Y5pWw5o2uCiAgICAgIHZhciBwYXJhbSA9IHsKICAgICAgICBuaWNrTmFtZTogdGhpcy5uaWNrTmFtZSwKICAgICAgICBjb250ZW50OiB0aGlzLm1lc3NhZ2UKICAgICAgfTsKICAgICAgY3JlYXRlQmJzKHBhcmFtKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpczIuJG5vdGlmeSh7CiAgICAgICAgICB0aXRsZTogJ+S/neWtmOaIkOWKnycsCiAgICAgICAgICB0eXBlOiAnc3VjY2VzcycsCiAgICAgICAgICBkdXJhdGlvbjogMjUwMAogICAgICAgIH0pOwogICAgICAgIGlmIChyZXMpIHsKICAgICAgICAgIF90aGlzMi5uaWNrTmFtZSA9ICcnOwogICAgICAgICAgX3RoaXMyLm1lc3NhZ2UgPSAnJzsKICAgICAgICAgIF90aGlzMi5oYW5kbGVDdXJyZW50Q2hhbmdlKDEpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"names":["parseTime","createBbs","getBbsPageList","data","nickName","message","pagesize","currentPage","total","pagemessages","created","doQuery","methods","_this","param","userName","pageSize","then","res","bbsList","handleCurrentChange","val","submitMessage","_this2","replace","$message","content","$notify","title","type","duration"],"sources":["src/views/bbs/index.vue"],"sourcesContent":["<template>\n  <div>\n    <el-card class=\"el-card-d\" shadow=\"always\">\n      <el-timeline infinite-scroll-disabled=\"disabled\">\n        <div v-if=\"pagemessages.length > 0\">\n          <el-timeline-item\n            v-for=\"(item, index) in pagemessages\"\n            :key=\"index\"\n            :timestamp=\"parseTime(item.createTime, '{y}-{m}-{d}')\"\n            placement=\"top\"\n          >\n            <el-card class=\"el-card-m\">\n              <span class=\"el-card-m-content\">{{ item.content }}</span>\n              <div />\n              <span class=\"el-card-m-nick-name\">{{ item.nickName }} 提交于 {{ parseTime(item.createTime) }}  </span>\n              <div />\n              <span v-if=\"item.replyContent\" class=\"el-card-m-reply\">{{ item.replyName }}回复：{{ item.replyContent }} &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[ {{ parseTime(item.replyTime) }}] </span>\n            </el-card>\n          </el-timeline-item>\n        </div>\n        <div v-else>\n          <el-timeline-item placement=\"top\">\n            <el-card class=\"el-card-m\">\n              <p class=\"el-card-m-nick-name\">  没有任何留言</p>\n            </el-card>\n          </el-timeline-item>\n        </div>\n      </el-timeline>\n      <el-pagination\n        background\n        :current-page=\"currentPage\"\n        :page-size=\"pagesize\"\n        layout=\"prev, pager, next\"\n        :total=\"total\"\n        :hide-on-single-page=\"true\"\n        @current-change=\"handleCurrentChange\"\n      />\n\n    </el-card>\n    <div class=\"el-card-messages\">\n      <el-input v-model=\"nickName\" size=\"mini\" class=\"message-nick-name\">\n        <template slot=\"prepend\">昵称：</template>\n      </el-input>\n      <el-input\n        slot=\"prepend\"\n        v-model=\"message\"\n        type=\"textarea\"\n        :rows=\"2\"\n        class=\"message-text\"\n        placeholder=\"输入留言\"\n        maxlength=\"200\"\n      />\n\n      <el-button\n        type=\"info\"\n        round\n        class=\"submit-message\"\n        size=\"mini\"\n        @click=\"submitMessage\"\n      >留言</el-button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { parseTime } from '@/utils/index'\nimport { createBbs, getBbsPageList } from '@/api/bbs'\nexport default {\n  data() {\n    return {\n      nickName: '',\n      message: '',\n      pagesize: 3,\n      currentPage: 1,\n      total: 0,\n      pagemessages: []\n    }\n  },\n  created() {\n    this.doQuery()\n  },\n  methods: {\n    parseTime,\n    // 后台查询\n    doQuery() {\n      this.pagemessages = []\n      var param = { userName: '' }\n      param.pageSize = this.pagesize\n      param.currentPage = this.currentPage\n      getBbsPageList(param).then(res => {\n        if (res) {\n          this.total = res.total\n          this.currentPage = res.currentPage\n          this.pagemessages = res.bbsList\n        }\n      })\n    },\n    // 翻页\n    handleCurrentChange(val) {\n      this.currentPage = val\n      this.pagemessages = []\n      this.doQuery()\n    },\n    // 提交留言\n    submitMessage() {\n      if (this.nickName === '' || this.nickName.replace(/(^\\s*)|(\\s*$)/g, '') === '') {\n        this.$message('请输入昵称')\n        return\n      }\n      if (this.message === '' || this.message.replace(/(^\\s*)|(\\s*$)/g, '') === '') {\n        this.$message('留言不能为空')\n        return\n      }\n      //  保存数据\n      const param = { nickName: this.nickName, content: this.message }\n      createBbs(param).then((res) => {\n        this.$notify({\n          title: '保存成功',\n          type: 'success',\n          duration: 2500\n        })\n        if (res) {\n          this.nickName = ''\n          this.message = ''\n          this.handleCurrentChange(1)\n        }\n      })\n    }\n  }\n\n}\n</script>\n\n<style scoped>\n.el-card-d {\n  float: left;\n  margin-top: 20px;\n  margin-left: 10%;\n  width: 80%;\n  height: 500px;\n  background: rgb(252, 250, 250);\n}\n\n.el-card-m{\n    height: 100px;\n}\n\n.el-card-m-content{\n    display: block;\n    font-weight: bold;\n}\n\n.el-card-m-nick-name{\n    display: block;\n    font-size: x-small;\n    margin-top: 15px;\n    color: gray;\n}\n\n.el-card-m-reply{\n    display: block;\n    font-size: xx-small;\n    margin-top: 15px;\n    color: gray;\n\n}\n\n.el-card-messages {\n  float: left;\n  margin-top: 20px;\n  margin-left: 10%;\n  width: 70%;\n}\n\n.message-nick-name {\n  width: 50%;\n}\n.message-text {\n  margin-top: 10px;\n  display: block;\n  width: 50%;\n}\n\n.submit-message {\n  margin-top: 10px;\n  width: 80px;\n  background: rgb(235, 245, 247);\n  color: cadetblue;\n  text-align: center;\n  letter-spacing: 20px;\n}\n</style>\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiEA,SAAAA,SAAA;AACA,SAAAC,SAAA,EAAAC,cAAA;AACA;EACAC,IAAA,WAAAA,KAAA;IACA;MACAC,QAAA;MACAC,OAAA;MACAC,QAAA;MACAC,WAAA;MACAC,KAAA;MACAC,YAAA;IACA;EACA;EACAC,OAAA,WAAAA,QAAA;IACA,KAAAC,OAAA;EACA;EACAC,OAAA;IACAZ,SAAA,EAAAA,SAAA;IACA;IACAW,OAAA,WAAAA,QAAA;MAAA,IAAAE,KAAA;MACA,KAAAJ,YAAA;MACA,IAAAK,KAAA;QAAAC,QAAA;MAAA;MACAD,KAAA,CAAAE,QAAA,QAAAV,QAAA;MACAQ,KAAA,CAAAP,WAAA,QAAAA,WAAA;MACAL,cAAA,CAAAY,KAAA,EAAAG,IAAA,WAAAC,GAAA;QACA,IAAAA,GAAA;UACAL,KAAA,CAAAL,KAAA,GAAAU,GAAA,CAAAV,KAAA;UACAK,KAAA,CAAAN,WAAA,GAAAW,GAAA,CAAAX,WAAA;UACAM,KAAA,CAAAJ,YAAA,GAAAS,GAAA,CAAAC,OAAA;QACA;MACA;IACA;IACA;IACAC,mBAAA,WAAAA,oBAAAC,GAAA;MACA,KAAAd,WAAA,GAAAc,GAAA;MACA,KAAAZ,YAAA;MACA,KAAAE,OAAA;IACA;IACA;IACAW,aAAA,WAAAA,cAAA;MAAA,IAAAC,MAAA;MACA,SAAAnB,QAAA,gBAAAA,QAAA,CAAAoB,OAAA;QACA,KAAAC,QAAA;QACA;MACA;MACA,SAAApB,OAAA,gBAAAA,OAAA,CAAAmB,OAAA;QACA,KAAAC,QAAA;QACA;MACA;MACA;MACA,IAAAX,KAAA;QAAAV,QAAA,OAAAA,QAAA;QAAAsB,OAAA,OAAArB;MAAA;MACAJ,SAAA,CAAAa,KAAA,EAAAG,IAAA,WAAAC,GAAA;QACAK,MAAA,CAAAI,OAAA;UACAC,KAAA;UACAC,IAAA;UACAC,QAAA;QACA;QACA,IAAAZ,GAAA;UACAK,MAAA,CAAAnB,QAAA;UACAmB,MAAA,CAAAlB,OAAA;UACAkB,MAAA,CAAAH,mBAAA;QACA;MACA;IACA;EACA;AAEA","ignoreList":[]}]}
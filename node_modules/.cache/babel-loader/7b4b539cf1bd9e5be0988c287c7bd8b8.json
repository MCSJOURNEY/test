{"remainingRequest":"/Users/mcsjourneys/Desktop/startup-frontend-main/node_modules/babel-loader/lib/index.js!/Users/mcsjourneys/Desktop/startup-frontend-main/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/mcsjourneys/Desktop/startup-frontend-main/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mcsjourneys/Desktop/startup-frontend-main/src/views/bbs/index copy.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/mcsjourneys/Desktop/startup-frontend-main/src/views/bbs/index copy.vue","mtime":1655109659000},{"path":"/Users/mcsjourneys/Desktop/startup-frontend-main/babel.config.js","mtime":1655109659000},{"path":"/Users/mcsjourneys/Desktop/startup-frontend-main/node_modules/cache-loader/dist/cjs.js","mtime":1715598879413},{"path":"/Users/mcsjourneys/Desktop/startup-frontend-main/node_modules/babel-loader/lib/index.js","mtime":1715598884187},{"path":"/Users/mcsjourneys/Desktop/startup-frontend-main/node_modules/cache-loader/dist/cjs.js","mtime":1715598879413},{"path":"/Users/mcsjourneys/Desktop/startup-frontend-main/node_modules/vue-loader/lib/index.js","mtime":1715598879453}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZS5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCgppbXBvcnQgeyBwYXJzZVRpbWUgfSBmcm9tICdAL3V0aWxzL2luZGV4JzsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBuaWNrTmFtZTogJycsCiAgICAgIG1lc3NhZ2U6ICcnLAogICAgICBwYWdlc2l6ZTogMywKICAgICAgY3VycmVudFBhZ2U6IDEsCiAgICAgIHBhZ2VtZXNzYWdlczogW10sCiAgICAgIGFsbG1lc3NhZ2VzOiBbXQogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmRvUXVlcnkoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIC8vIOaooeaLn+WQjuWPsOafpeivogogICAgZG9RdWVyeTogZnVuY3Rpb24gZG9RdWVyeSgpIHsKICAgICAgdmFyIHN0YXJ0ID0gKHRoaXMuY3VycmVudFBhZ2UgLSAxKSAqIHRoaXMucGFnZXNpemU7CiAgICAgIHZhciBlbmQgPSBzdGFydCArIHRoaXMucGFnZXNpemU7CiAgICAgIGZvciAodmFyIGkgPSBzdGFydDsgaSA8IGVuZDsgaSsrKSB7CiAgICAgICAgaWYgKGkgPCB0aGlzLmFsbG1lc3NhZ2VzLmxlbmd0aCkgewogICAgICAgICAgdGhpcy5wYWdlbWVzc2FnZXMucHVzaCh0aGlzLmFsbG1lc3NhZ2VzW2ldKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICAvLyDnv7vpobUKICAgIGhhbmRsZUN1cnJlbnRDaGFuZ2U6IGZ1bmN0aW9uIGhhbmRsZUN1cnJlbnRDaGFuZ2UodmFsKSB7CiAgICAgIHRoaXMuY3VycmVudFBhZ2UgPSB2YWw7CiAgICAgIHRoaXMucGFnZW1lc3NhZ2VzID0gW107CiAgICAgIHRoaXMuZG9RdWVyeSgpOwogICAgfSwKICAgIC8vIOaPkOS6pOeVmeiogAogICAgc3VibWl0TWVzc2FnZTogZnVuY3Rpb24gc3VibWl0TWVzc2FnZSgpIHsKICAgICAgaWYgKHRoaXMubmlja05hbWUgPT09ICcnIHx8IHRoaXMubmlja05hbWUucmVwbGFjZSgvKF5ccyopfChccyokKS9nLCAnJykgPT09ICcnKSB7CiAgICAgICAgdGhpcy4kbWVzc2FnZSgn6K+36L6T5YWl5pi156ewJyk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIGlmICh0aGlzLm1lc3NhZ2UgPT09ICcnIHx8IHRoaXMubWVzc2FnZS5yZXBsYWNlKC8oXlxzKil8KFxzKiQpL2csICcnKSA9PT0gJycpIHsKICAgICAgICB0aGlzLiRtZXNzYWdlKCfnlZnoqIDkuI3og73kuLrnqbonKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgLy8gIOaooeaLn+S/neWtmOaVsOaNrgogICAgICB2YXIgdGltZXN0YW1wID0gRGF0ZS5wYXJzZShuZXcgRGF0ZSgpKTsKICAgICAgdGhpcy5hbGxtZXNzYWdlcy5wdXNoKHsKICAgICAgICBjcmVhdGVUaW1lOiBwYXJzZVRpbWUodGltZXN0YW1wKSwKICAgICAgICBjcmVhdGVEYXRlOiBwYXJzZVRpbWUodGltZXN0YW1wLCAne3l9LXttfS17ZH0nKSwKICAgICAgICBuaWNrTmFtZTogdGhpcy5uaWNrTmFtZSwKICAgICAgICBjb250ZW50OiB0aGlzLm1lc3NhZ2UKICAgICAgfSk7CiAgICAgIHRoaXMubmlja05hbWUgPSAnJzsKICAgICAgdGhpcy5tZXNzYWdlID0gJyc7CiAgICAgIC8vIOe/u+mhteWIsOacgOWQjuS4gOmhtQogICAgICB0aGlzLmN1cnJlbnRQYWdlID0gTWF0aC5jZWlsKHRoaXMuYWxsbWVzc2FnZXMubGVuZ3RoIC8gdGhpcy5wYWdlc2l6ZSwgMCk7CiAgICAgIHRoaXMuaGFuZGxlQ3VycmVudENoYW5nZSh0aGlzLmN1cnJlbnRQYWdlKTsKICAgIH0KICB9Cn07"},{"version":3,"names":["parseTime","data","nickName","message","pagesize","currentPage","pagemessages","allmessages","created","doQuery","methods","start","end","i","length","push","handleCurrentChange","val","submitMessage","replace","$message","timestamp","Date","parse","createTime","createDate","content","Math","ceil"],"sources":["src/views/bbs/index copy.vue"],"sourcesContent":["<template>\n  <div>\n    <el-card class=\"el-card-d\" shadow=\"always\">\n      <el-timeline infinite-scroll-disabled=\"disabled\">\n        <div v-if=\"pagemessages.length > 0\">\n          <el-timeline-item\n            v-for=\"(item, index) in pagemessages\"\n            :key=\"index\"\n            :timestamp=\"item.createDate\"\n            placement=\"top\"\n          >\n            <el-card class=\"el-card-m\">\n              <span class=\"el-card-m-content\">{{ item.content }}</span>\n              <div />\n              <span class=\"el-card-m-nick-name\">{{ item.nickName }} 提交于 {{ item.createTime }}</span>\n            </el-card>\n          </el-timeline-item>\n        </div>\n        <div v-else>\n          <el-timeline-item placement=\"top\">\n            <el-card class=\"el-card-m\">\n              <p class=\"el-card-m-nick-name\">  没有任何留言</p>\n            </el-card>\n          </el-timeline-item>\n        </div>\n      </el-timeline>\n      <el-pagination\n        background\n        :current-page=\"currentPage\"\n        :page-size=\"pagesize\"\n        layout=\"prev, pager, next\"\n        :total=\"allmessages.length\"\n        :hide-on-single-page=\"true\"\n        @current-change=\"handleCurrentChange\"\n      />\n\n    </el-card>\n    <div class=\"el-card-messages\">\n      <el-input v-model=\"nickName\" size=\"mini\" class=\"message-nick-name\">\n        <template slot=\"prepend\">昵称：</template>\n      </el-input>\n      <el-input\n        slot=\"prepend\"\n        v-model=\"message\"\n        type=\"textarea\"\n        :rows=\"2\"\n        class=\"message-text\"\n        placeholder=\"输入留言\"\n        maxlength=\"200\"\n      />\n\n      <el-button\n        type=\"info\"\n        round\n        class=\"submit-message\"\n        size=\"mini\"\n        @click=\"submitMessage\"\n      >留言</el-button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { parseTime } from '@/utils/index'\nexport default {\n  data() {\n    return {\n      nickName: '',\n      message: '',\n      pagesize: 3,\n      currentPage: 1,\n      pagemessages: [],\n      allmessages: []\n    }\n  },\n  created() {\n    this.doQuery()\n  },\n  methods: {\n    // 模拟后台查询\n    doQuery() {\n      const start = (this.currentPage - 1) * this.pagesize\n      const end = start + this.pagesize\n      for (var i = start; i < end; i++) {\n        if (i < this.allmessages.length) {\n          this.pagemessages.push(this.allmessages[i])\n        }\n      }\n    },\n    // 翻页\n    handleCurrentChange(val) {\n      this.currentPage = val\n      this.pagemessages = []\n      this.doQuery()\n    },\n    // 提交留言\n    submitMessage() {\n      if (this.nickName === '' || this.nickName.replace(/(^\\s*)|(\\s*$)/g, '') === '') {\n        this.$message('请输入昵称')\n        return\n      }\n      if (this.message === '' || this.message.replace(/(^\\s*)|(\\s*$)/g, '') === '') {\n        this.$message('留言不能为空')\n        return\n      }\n      //  模拟保存数据\n      var timestamp = Date.parse(new Date())\n      this.allmessages.push({ createTime: parseTime(timestamp), createDate: parseTime(timestamp, '{y}-{m}-{d}'), nickName: this.nickName, content: this.message })\n      this.nickName = ''\n      this.message = ''\n      // 翻页到最后一页\n      this.currentPage = Math.ceil(this.allmessages.length / this.pagesize, 0)\n      this.handleCurrentChange(this.currentPage)\n    }\n  }\n\n}\n</script>\n\n<style scoped>\n.el-card-d {\n  float: left;\n  margin-top: 20px;\n  margin-left: 10%;\n  width: 80%;\n  height: 500px;\n  background: rgb(252, 250, 250);\n}\n\n.el-card-m{\n    height: 100px;\n}\n\n.el-card-m-content{\n    display: block;\n    font-weight: bold;\n}\n\n.el-card-m-nick-name{\n    display: block;\n    font-size: x-small;\n    margin-top: 15px;\n    color: gray;\n}\n\n.el-card-messages {\n  float: left;\n  margin-top: 20px;\n  margin-left: 10%;\n  width: 70%;\n}\n\n.message-nick-name {\n  width: 50%;\n}\n.message-text {\n  margin-top: 10px;\n  display: block;\n  width: 50%;\n}\n\n.submit-message {\n  margin-top: 10px;\n  width: 80px;\n  background: rgb(235, 245, 247);\n  color: cadetblue;\n  text-align: center;\n  letter-spacing: 20px;\n}\n</style>\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+DA,SAAAA,SAAA;AACA;EACAC,IAAA,WAAAA,KAAA;IACA;MACAC,QAAA;MACAC,OAAA;MACAC,QAAA;MACAC,WAAA;MACAC,YAAA;MACAC,WAAA;IACA;EACA;EACAC,OAAA,WAAAA,QAAA;IACA,KAAAC,OAAA;EACA;EACAC,OAAA;IACA;IACAD,OAAA,WAAAA,QAAA;MACA,IAAAE,KAAA,SAAAN,WAAA,aAAAD,QAAA;MACA,IAAAQ,GAAA,GAAAD,KAAA,QAAAP,QAAA;MACA,SAAAS,CAAA,GAAAF,KAAA,EAAAE,CAAA,GAAAD,GAAA,EAAAC,CAAA;QACA,IAAAA,CAAA,QAAAN,WAAA,CAAAO,MAAA;UACA,KAAAR,YAAA,CAAAS,IAAA,MAAAR,WAAA,CAAAM,CAAA;QACA;MACA;IACA;IACA;IACAG,mBAAA,WAAAA,oBAAAC,GAAA;MACA,KAAAZ,WAAA,GAAAY,GAAA;MACA,KAAAX,YAAA;MACA,KAAAG,OAAA;IACA;IACA;IACAS,aAAA,WAAAA,cAAA;MACA,SAAAhB,QAAA,gBAAAA,QAAA,CAAAiB,OAAA;QACA,KAAAC,QAAA;QACA;MACA;MACA,SAAAjB,OAAA,gBAAAA,OAAA,CAAAgB,OAAA;QACA,KAAAC,QAAA;QACA;MACA;MACA;MACA,IAAAC,SAAA,GAAAC,IAAA,CAAAC,KAAA,KAAAD,IAAA;MACA,KAAAf,WAAA,CAAAQ,IAAA;QAAAS,UAAA,EAAAxB,SAAA,CAAAqB,SAAA;QAAAI,UAAA,EAAAzB,SAAA,CAAAqB,SAAA;QAAAnB,QAAA,OAAAA,QAAA;QAAAwB,OAAA,OAAAvB;MAAA;MACA,KAAAD,QAAA;MACA,KAAAC,OAAA;MACA;MACA,KAAAE,WAAA,GAAAsB,IAAA,CAAAC,IAAA,MAAArB,WAAA,CAAAO,MAAA,QAAAV,QAAA;MACA,KAAAY,mBAAA,MAAAX,WAAA;IACA;EACA;AAEA","ignoreList":[]}]}
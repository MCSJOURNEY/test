{"remainingRequest":"/Users/mcsjourneys/Desktop/startup-frontend-main/node_modules/babel-loader/lib/index.js!/Users/mcsjourneys/Desktop/startup-frontend-main/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/mcsjourneys/Desktop/startup-frontend-main/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mcsjourneys/Desktop/startup-frontend-main/src/views/user/index.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/mcsjourneys/Desktop/startup-frontend-main/src/views/user/index.vue","mtime":1655109659000},{"path":"/Users/mcsjourneys/Desktop/startup-frontend-main/babel.config.js","mtime":1655109659000},{"path":"/Users/mcsjourneys/Desktop/startup-frontend-main/node_modules/cache-loader/dist/cjs.js","mtime":1715598879413},{"path":"/Users/mcsjourneys/Desktop/startup-frontend-main/node_modules/babel-loader/lib/index.js","mtime":1715598884187},{"path":"/Users/mcsjourneys/Desktop/startup-frontend-main/node_modules/cache-loader/dist/cjs.js","mtime":1715598879413},{"path":"/Users/mcsjourneys/Desktop/startup-frontend-main/node_modules/vue-loader/lib/index.js","mtime":1715598879453}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL21jc2pvdXJuZXlzL0Rlc2t0b3Avc3RhcnR1cC1mcm9udGVuZC1tYWluL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc3BsaWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwoKaW1wb3J0IHsgbWFwR2V0dGVycyB9IGZyb20gJ3Z1ZXgnOwppbXBvcnQgQXZhdGFyIGZyb20gJ0AvYXNzZXRzL2ltYWdlcy9hdmF0YXIucG5nJzsKaW1wb3J0IHsgcGFyc2VUaW1lIH0gZnJvbSAnQC91dGlscy9pbmRleCc7CmltcG9ydCB7IGdldFVzZXJQYWdlTGlzdCwgZGVsZXRlVXNlciwgZ2V0SW5mb0J5SWQsIGdldFVzZXJSb2xlcywgc2F2ZVVzZXJSb2xlcyB9IGZyb20gJ0AvYXBpL3VzZXInOwppbXBvcnQgeyBnZXRSb2xlTGlzdCB9IGZyb20gJ0AvYXBpL3JvbGUnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ+eUqOaIt+euoeeQhicsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIEF2YXRhcjogQXZhdGFyLAogICAgICBhY3RpdmVOYW1lOiAndXNlckxpc3QnLAogICAgICBzaG93RGlhbG9nOiBmYWxzZSwKICAgICAgbG9hZGluZzogZmFsc2UsCiAgICAgIGZvcm1Mb2FkaW5nOiB0cnVlLAogICAgICBmb3JtOiB7fSwKICAgICAgdG90YWxQYWdlOiAwLAogICAgICBjdXJyZW50UGFnZTogMSwKICAgICAgcGFnZVNpemU6IDUsCiAgICAgIHVzZXJzOiBbXSwKICAgICAgc2VsZWN0aW9uczogW10sCiAgICAgIHVzZXJOYW1lOiAnJywKICAgICAgY3JlYXRlVGltZTogbnVsbCwKICAgICAgcm9sZXM6IFtdLAogICAgICB1c2VyUm9sZXM6IFtdCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IF9vYmplY3RTcHJlYWQoe30sIG1hcEdldHRlcnMoWydiYXNlQXBpJ10pKSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkge30sCiAgbWV0aG9kczogewogICAgcGFyc2VUaW1lOiBwYXJzZVRpbWUsCiAgICBkb1F1ZXJ5OiBmdW5jdGlvbiBkb1F1ZXJ5KCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICB0aGlzLnVzZXJzID0gW107CiAgICAgIHZhciBwYXJhbSA9IHsKICAgICAgICB1c2VyTmFtZTogdGhpcy51c2VyTmFtZQogICAgICB9OwogICAgICBpZiAodGhpcy5jcmVhdGVUaW1lICE9IG51bGwpIHsKICAgICAgICBwYXJhbS5jcmVhdGVUaW1lU3RhcnQgPSBEYXRlLnBhcnNlKHRoaXMuY3JlYXRlVGltZVswXSk7CiAgICAgICAgcGFyYW0uY3JlYXRlVGltZUVuZCA9IERhdGUucGFyc2UodGhpcy5jcmVhdGVUaW1lWzFdKTsKICAgICAgfQogICAgICBwYXJhbS5wYWdlU2l6ZSA9IHRoaXMucGFnZVNpemU7CiAgICAgIHBhcmFtLmN1cnJlbnRQYWdlID0gdGhpcy5jdXJyZW50UGFnZTsKICAgICAgY29uc29sZS5sb2cocGFyYW0pOwogICAgICBnZXRVc2VyUGFnZUxpc3QocGFyYW0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGlmIChyZXMpIHsKICAgICAgICAgIF90aGlzLnRvdGFsUGFnZSA9IHJlcy50b3RhbFBhZ2U7CiAgICAgICAgICBfdGhpcy5jdXJyZW50UGFnZSA9IHJlcy5jdXJyZW50UGFnZTsKICAgICAgICAgIF90aGlzLnVzZXJzID0gcmVzLnN5c1VzZXJMaXN0OwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgaGFuZGxlU2l6ZUNoYW5nZTogZnVuY3Rpb24gaGFuZGxlU2l6ZUNoYW5nZSh2YWwpIHsKICAgICAgdGhpcy5wYWdlU2l6ZSA9IHZhbDsKICAgICAgdGhpcy5kb1F1ZXJ5KCk7CiAgICB9LAogICAgaGFuZGxlQ3VycmVudENoYW5nZTogZnVuY3Rpb24gaGFuZGxlQ3VycmVudENoYW5nZSh2YWwpIHsKICAgICAgdGhpcy5jdXJyZW50UGFnZSA9IHZhbDsKICAgICAgdGhpcy5kb1F1ZXJ5KCk7CiAgICB9LAogICAgZG9EZWxldGU6IGZ1bmN0aW9uIGRvRGVsZXRlKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKICAgICAgdmFyIGlkcyA9IFtdOwogICAgICB0aGlzLnNlbGVjdGlvbnMuZm9yRWFjaChmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgaWRzLnB1c2gocmVzLmlkKTsKICAgICAgfSk7CiAgICAgIHRoaXMuJGNvbmZpcm0oIlx1Nzg2RVx1OEJBNFx1NTIyMFx1OTY2NFx1OEZEOVx1NEU5Qlx1NzUyOFx1NjIzN1x1NTQxNz8iLCAn5o+Q56S6JywgewogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn56Gu5a6aJywKICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAn5Y+W5raIJywKICAgICAgICB0eXBlOiAnd2FybmluZycKICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIGRlbGV0ZVVzZXIoaWRzKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgIGlmIChyZXMpIHsKICAgICAgICAgICAgX3RoaXMyLiRub3RpZnkoewogICAgICAgICAgICAgIHRpdGxlOiAn5Yig6Zmk5oiQ5YqfJywKICAgICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycsCiAgICAgICAgICAgICAgZHVyYXRpb246IDI1MDAKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIF90aGlzMi5kb1F1ZXJ5KCk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uICgpIHt9KTsKICAgIH0sCiAgICAvLyDpgInmi6nmlLnlj5gKICAgIHNlbGVjdGlvbkNoYW5nZUhhbmRsZXI6IGZ1bmN0aW9uIHNlbGVjdGlvbkNoYW5nZUhhbmRsZXIodmFsKSB7CiAgICAgIHRoaXMuc2VsZWN0aW9ucyA9IHZhbDsKICAgIH0sCiAgICBkb0Fzc2lnblJvbGU6IGZ1bmN0aW9uIGRvQXNzaWduUm9sZShpZCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKICAgICAgdGhpcy5mb3JtID0ge307CiAgICAgIHRoaXMudXNlclJvbGVzID0gW107CiAgICAgIHRoaXMucm9sZXMgPSBbXTsKICAgICAgdGhpcy5zaG93RGlhbG9nID0gdHJ1ZTsKICAgICAgdGhpcy5mb3JtTG9hZGluZyA9IHRydWU7CiAgICAgIGdldEluZm9CeUlkKGlkKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpczMuZm9ybSA9IHsKICAgICAgICAgIGlkOiByZXMuaWQsCiAgICAgICAgICB1c2VyTmFtZTogcmVzLnVzZXJOYW1lLAogICAgICAgICAgbmlja05hbWU6IHJlcy5uaWNrTmFtZSwKICAgICAgICAgIGdlbmRlcjogcmVzLmdlbmRlciwKICAgICAgICAgIHBob25lOiByZXMucGhvbmUKICAgICAgICB9OwogICAgICAgIHZhciBwYXJhbSA9IHt9OwogICAgICAgIGdldFJvbGVMaXN0KHBhcmFtKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgIGlmIChyZXMpIHsKICAgICAgICAgICAgX3RoaXMzLnJvbGVzID0gcmVzOwogICAgICAgICAgfQogICAgICAgICAgZ2V0VXNlclJvbGVzKGlkKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgaWYgKHJlcykgewogICAgICAgICAgICAgIHJlcy5mb3JFYWNoKGZ1bmN0aW9uIChyb2xlKSB7CiAgICAgICAgICAgICAgICBfdGhpczMudXNlclJvbGVzLnB1c2gocm9sZS5pZCk7CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgX3RoaXMzLmZvcm1Mb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAogICAgZG9DYW5jZWw6IGZ1bmN0aW9uIGRvQ2FuY2VsKCkgewogICAgICB0aGlzLnNob3dEaWFsb2cgPSBmYWxzZTsKICAgICAgdGhpcy5mb3JtID0ge307CiAgICB9LAogICAgZG9TdWJtaXQ6IGZ1bmN0aW9uIGRvU3VibWl0KCkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKICAgICAgdGhpcy5mb3JtTG9hZGluZyA9IHRydWU7CiAgICAgIHNhdmVVc2VyUm9sZXModGhpcy5mb3JtLmlkLCB0aGlzLnVzZXJSb2xlcykudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXM0LnNob3dEaWFsb2cgPSBmYWxzZTsKICAgICAgICBfdGhpczQuJG5vdGlmeSh7CiAgICAgICAgICB0aXRsZTogJ+S/neWtmOaIkOWKnycsCiAgICAgICAgICB0eXBlOiAnc3VjY2VzcycsCiAgICAgICAgICBkdXJhdGlvbjogMjUwMAogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCiAgICBkZWxldGVUYWc6IGZ1bmN0aW9uIGRlbGV0ZVRhZyh2YWx1ZSkgewogICAgICB0aGlzLnVzZXJSb2xlcy5mb3JFYWNoKGZ1bmN0aW9uIChkYXRhLCBpbmRleCkgewogICAgICAgIGlmIChkYXRhLmlkID09PSB2YWx1ZSkgewogICAgICAgICAgdGhpcy51c2VyUm9sZXMuc3BsaWNlKGluZGV4LCB2YWx1ZSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBjaGFuZ2VSb2xlOiBmdW5jdGlvbiBjaGFuZ2VSb2xlKHZhbHVlKSB7CiAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMudXNlclJvbGVzKQogICAgfQogIH0KfTs="},{"version":3,"names":["mapGetters","Avatar","parseTime","getUserPageList","deleteUser","getInfoById","getUserRoles","saveUserRoles","getRoleList","name","data","activeName","showDialog","loading","formLoading","form","totalPage","currentPage","pageSize","users","selections","userName","createTime","roles","userRoles","computed","_objectSpread","created","methods","doQuery","_this","param","createTimeStart","Date","parse","createTimeEnd","console","log","then","res","sysUserList","handleSizeChange","val","handleCurrentChange","doDelete","_this2","ids","forEach","push","id","$confirm","confirmButtonText","cancelButtonText","type","$notify","title","duration","catch","selectionChangeHandler","doAssignRole","_this3","nickName","gender","phone","role","doCancel","doSubmit","_this4","deleteTag","value","index","splice","changeRole"],"sources":["src/views/user/index.vue"],"sourcesContent":["<template>\n  <div class=\"app-container\">\n    <!--工具栏-->\n    <div class=\"head-container\">\n      <!-- 搜索 -->\n      <el-input\n        v-model=\"userName\"\n        size=\"small\"\n        clearable\n        placeholder=\"输入账号或用户名称搜索\"\n        style=\"width: 200px\"\n        class=\"filter-item\"\n        @keyup.enter.native=\"doQuery\"\n      />\n      <el-date-picker\n        v-model=\"createTime\"\n        :default-time=\"['00:00:00', '23:59:59']\"\n        type=\"daterange\"\n        range-separator=\":\"\n        size=\"small\"\n        class=\"date-item\"\n        value-format=\"yyyy-MM-dd HH:mm:ss\"\n        start-placeholder=\"开始日期\"\n        end-placeholder=\"结束日期\"\n      />\n      <el-button\n        class=\"filter-item\"\n        size=\"mini\"\n        type=\"success\"\n        icon=\"el-icon-search\"\n        @click=\"doQuery\"\n      >搜索</el-button>\n      <el-button\n        class=\"filter-item\"\n        size=\"mini\"\n        type=\"danger\"\n        icon=\"el-icon-circle-plus-outline\"\n        :disabled=\"selections.length === 0\"\n        @click=\"doDelete\"\n      >删除</el-button>\n    </div>\n\n    <el-row>\n      <!--角色分配表单-->\n      <el-dialog\n        append-to-body\n        :close-on-click-modal=\"false\"\n        :visible.sync=\"showDialog\"\n        title=\"角色分配\"\n        width=\"600px\"\n      >\n        <el-form\n          ref=\"form\"\n          :inline=\"true\"\n          :model=\"form\"\n          size=\"small\"\n          label-width=\"76px\"\n        >\n          <el-form-item label=\"登录账号\" prop=\"userName\">\n            <el-input v-model=\"form.userName\" :disabled=\"true\" />\n          </el-form-item>\n          <el-form-item label=\"昵称\" prop=\"nickName\">\n            <el-input v-model=\"form.nickName\" :disabled=\"true\" />\n          </el-form-item>\n          <el-form-item style=\"margin-bottom: 0\" label=\"角色\" prop=\"userRoles\">\n            <el-select\n              v-model=\"userRoles\"\n              style=\"width: 455px\"\n              multiple\n              filterable\n              placeholder=\"请选择\"\n              @remove-tag=\"deleteTag\"\n              @change=\"changeRole\"\n            >\n              <el-option\n                v-for=\"item in roles\"\n                :key=\"item.roleCode\"\n                :label=\"item.roleName\"\n                :value=\"item.id\"\n              />\n            </el-select>\n          </el-form-item>\n        </el-form>\n        <div slot=\"footer\" class=\"dialog-footer\">\n          <el-button type=\"text\" @click=\"doCancel\">取消</el-button>\n          <el-button\n            :loading=\"formLoading\"\n            type=\"primary\"\n            @click=\"doSubmit\"\n          >确认</el-button>\n        </div>\n      </el-dialog>\n      <el-tabs v-model=\"activeName\" type=\"border-card\">\n        <el-tab-pane label=\"用户列表\" name=\"userList\">\n          <el-table\n            ref=\"table\"\n            v-loading=\"loading\"\n            :data=\"users\"\n            style=\"width: 100%; font-size: 12px\"\n            @selection-change=\"selectionChangeHandler\"\n          >\n            <el-table-column type=\"selection\" width=\"55\" />\n            <el-table-column\n              :show-overflow-tooltip=\"true\"\n              width=\"150\"\n              prop=\"userName\"\n              label=\"登录账号\"\n            />\n            <el-table-column\n              :show-overflow-tooltip=\"true\"\n              width=\"150\"\n              prop=\"nickName\"\n              label=\"用户昵称\"\n            />\n            <el-table-column prop=\"gender\" width=\"60\" label=\"性别\">\n              <template slot-scope=\"scope\">\n                <el-tag v-if=\"scope.row.gender === 1\" type=\"success\">男</el-tag>\n                <el-tag v-if=\"scope.row.gender === 2\" type=\"warning\">女</el-tag>\n                <el-tag v-if=\"scope.row.gender === 0\" type=\"info\">未知</el-tag>\n              </template>\n            </el-table-column>\n            <el-table-column\n              :show-overflow-tooltip=\"true\"\n              prop=\"phone\"\n              width=\"150\"\n              label=\"电话\"\n            />\n            <el-table-column\n              :show-overflow-tooltip=\"true\"\n              prop=\"city\"\n              label=\"所在地区\"\n            >\n              <template slot-scope=\"scope\">\n                <span>{{ scope.row.province }} {{ scope.row.city }}\n                  {{ scope.row.country }}</span>\n              </template>\n            </el-table-column>\n            <el-table-column\n              :show-overflow-tooltip=\"true\"\n              prop=\"avatarUrl\"\n              width=\"80\"\n              label=\"头像\"\n            >\n              <template slot-scope=\"scope\">\n                <img\n                  :src=\"\n                    scope.row.avatarUrl\n                      ? baseApi + '/file/' + scope.row.avatarUrl\n                      : Avatar\n                  \"\n                  class=\"avatar\"\n                >\n              </template>\n            </el-table-column>\n            <el-table-column\n              :show-overflow-tooltip=\"true\"\n              prop=\"createTime\"\n              width=\"155\"\n              label=\"注册日期\"\n            >\n              <template slot-scope=\"scope\">\n                <span>{{ parseTime(scope.row.createTime) }}</span>\n              </template>\n            </el-table-column>\n            <el-table-column\n              label=\"操作\"\n              width=\"160\"\n              align=\"center\"\n              fixed=\"right\"\n            >\n              <template slot-scope=\"scope\">\n                <el-button\n                  size=\"mini\"\n                  type=\"text\"\n                  round\n                  @click=\"doAssignRole(scope.row.id)\"\n                >分配角色</el-button>\n              </template>\n            </el-table-column>\n          </el-table>\n          <el-pagination\n            class=\"page\"\n            background\n            :current-page=\"currentPage\"\n            :page-sizes=\"[5, 10, 15, 20]\"\n            :page-size=\"pageSize\"\n            layout=\"sizes,prev, pager, next\"\n            :total=\"totalPage\"\n            @size-change=\"handleSizeChange\"\n            @current-change=\"handleCurrentChange\"\n          />\n        </el-tab-pane>\n      </el-tabs>\n    </el-row>\n  </div>\n</template>\n\n<script>\nimport { mapGetters } from 'vuex'\nimport Avatar from '@/assets/images/avatar.png'\nimport { parseTime } from '@/utils/index'\nimport { getUserPageList, deleteUser, getInfoById, getUserRoles, saveUserRoles } from '@/api/user'\nimport { getRoleList } from '@/api/role'\nexport default {\n  name: '用户管理',\n  data() {\n    return {\n      Avatar: Avatar,\n      activeName: 'userList',\n      showDialog: false,\n      loading: false,\n      formLoading: true,\n      form: {},\n      totalPage: 0,\n      currentPage: 1,\n      pageSize: 5,\n      users: [],\n      selections: [],\n      userName: '',\n      createTime: null,\n      roles: [],\n      userRoles: []\n    }\n  },\n  computed: {\n    ...mapGetters([\n      'baseApi'\n    ])\n  },\n  created() {\n\n  },\n  methods: {\n    parseTime,\n    doQuery() {\n      this.users = []\n      var param = { userName: this.userName }\n      if (this.createTime != null) {\n        param.createTimeStart = Date.parse(this.createTime[0])\n        param.createTimeEnd = Date.parse(this.createTime[1])\n      }\n      param.pageSize = this.pageSize\n      param.currentPage = this.currentPage\n      console.log(param)\n      getUserPageList(param).then(res => {\n        if (res) {\n          this.totalPage = res.totalPage\n          this.currentPage = res.currentPage\n          this.users = res.sysUserList\n        }\n      })\n    },\n    handleSizeChange(val) {\n      this.pageSize = val\n      this.doQuery()\n    },\n    handleCurrentChange(val) {\n      this.currentPage = val\n      this.doQuery()\n    },\n    doDelete() {\n      const ids = []\n      this.selections.forEach((res) => {\n        ids.push(res.id)\n      })\n      this.$confirm(`确认删除这些用户吗?`, '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() =>\n        deleteUser(ids).then(res => {\n          if (res) {\n            this.$notify({\n              title: '删除成功',\n              type: 'success',\n              duration: 2500\n            })\n            this.doQuery()\n          }\n        })\n      ).catch(() => {\n      })\n    },\n    // 选择改变\n    selectionChangeHandler(val) {\n      this.selections = val\n    },\n    doAssignRole(id) {\n      this.form = {}\n      this.userRoles = []\n      this.roles = []\n      this.showDialog = true\n      this.formLoading = true\n      getInfoById(id).then((res) => {\n        this.form = { id: res.id, userName: res.userName, nickName: res.nickName, gender: res.gender, phone: res.phone }\n        var param = {}\n        getRoleList(param).then(res => {\n          if (res) {\n            this.roles = res\n          }\n          getUserRoles(id).then((res) => {\n            if (res) {\n              res.forEach(role => {\n                this.userRoles.push(role.id)\n              })\n            }\n            this.formLoading = false\n          })\n        })\n      })\n    },\n    doCancel() {\n      this.showDialog = false\n      this.form = {}\n    },\n    doSubmit() {\n      this.formLoading = true\n      saveUserRoles(this.form.id, this.userRoles).then(() => {\n        this.showDialog = false\n        this.$notify({\n          title: '保存成功',\n          type: 'success',\n          duration: 2500\n        })\n      })\n    },\n    deleteTag(value) {\n      this.userRoles.forEach(function(data, index) {\n        if (data.id === value) {\n          this.userRoles.splice(index, value)\n        }\n      })\n    },\n    changeRole(value) {\n      // console.log(this.userRoles)\n    }\n  }\n}\n\n</script>\n\n<style rel=\"stylesheet/scss\" lang=\"scss\">\n.avatar {\n  width: 32px;\n  height: 32px;\n  border-radius: 50%;\n}\n.page{\n  float: right;\n  margin-top: 5px;\n}\n</style>\n\n<style rel=\"stylesheet/scss\" lang=\"scss\" scoped>\n::v-deep .el-input-number .el-input__inner {\n  text-align: left;\n}\n</style>\n"],"mappings":"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","ignoreList":[]}]}